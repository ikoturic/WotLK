<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8" />
  <title>Northrend Interaktivna Karta</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
    }

    #map-container, #zone-image {
      max-width: 900px;
      margin: 20px auto;
      border: 1px solid #ccc;
      background: white;
      position: relative;
    }

    svg {
      width: 100%;
      height: auto;
    }

    #zone-image {
      display: none;
      text-align: center;
    }

    #zone-image img {
      max-width: 100%;
    }

    button {
      margin: 10px;
    }

    path:hover {
      fill: black !important;
      opacity: 0.4;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="map-container"></div>

<div id="zone-image" oncontextmenu="backToMap(); return false;">
  <p><em>Desni klik za povratak</em></p>
  <img id="zone-img" src="" alt="Zona" />
</div>

<script>
  const zoneMap = {
    dragonblight: "WorldMap-Dragonblight.jpg",
    icecrown: "WorldMap-IcecrownGlacier.jpg",
    zul_drak: "WorldMap-ZulDrak.jpg",
    grizzly_hills: "WorldMap-GrizzlyHills.jpg",
    howling_fjord: "WorldMap-HowlingFjord.jpg",
    storm_peaks: "WorldMap-TheStormPeaks.jpg",
    sholazar_basin: "WorldMap-SholazarBasin.jpg",
    wintergrasp: "WorldMap-LakeWintergrasp.jpg",
    crystalsong_forrest: "WorldMap-CrystalsongForest.jpg",
    borean_tundra: "WorldMap-BoreanTundra.jpg"
  };

  d3.xml("WorldMap-NorthrendUpdated.svg").then(data => {
    const svgNode = data.documentElement;
    document.getElementById("map-container").appendChild(svgNode);

    d3.select(svgNode).selectAll("path")
      .on("click", function () {
        const zoneId = d3.select(this).attr("id");
        const imgSrc = zoneMap[zoneId];

        if (imgSrc) {
          document.getElementById("map-container").style.display = "none";
          document.getElementById("zone-img").src = imgSrc;
          document.getElementById("zone-image").style.display = "block";
        } else {
          alert("Nema povezane slike za zonu: " + zoneId);
        }
      });
  });

  function backToMap() {
    document.getElementById("zone-image").style.display = "none";
    document.getElementById("map-container").style.display = "block";
  }
</script>

</body>
</html>
